{"version":3,"sources":["./src/app/product-detail/product-detail.page.html","./src/app/product-detail/product-detail-routing.module.ts","./src/app/product-detail/product-detail.module.ts","./src/app/product-detail/product-detail.page.scss","./src/app/product-detail/product-detail.page.ts"],"names":[],"mappings":";;;;;;;;;AAAA,wMAAwM,oBAAoB,oPAAoP,oBAAoB,+JAA+J,oBAAoB,oCAAoC,mBAAmB,oCAAoC,iCAAiC,sQAAsQ,aAAa,2IAA2I,YAAY,8EAA8E,eAAe,oCAAoC,0BAA0B,6D;;;;;;;;;;;;;;;;;;;ACA/yC;AACc;AAEG;AAE1D,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,sEAAiB;KAC7B;CACF,CAAC;AAMF,IAAa,8BAA8B,GAA3C,MAAa,8BAA8B;CAAG;AAAjC,8BAA8B;IAJ1C,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,8BAA8B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;AChBF;AACM;AACF;AAEA;AAEoC;AAEvB;AAEe;AACc;AACd;AAczE,IAAa,uBAAuB,GAApC,MAAa,uBAAuB;CAAG;AAA1B,uBAAuB;IAZnC,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,6FAA8B;YAC9B,oFAAoB;YACpB,oFAAoB;YACpB,kGAAwB;SACzB;QACD,YAAY,EAAE,CAAC,sEAAiB,CAAC;KAClC,CAAC;GACW,uBAAuB,CAAG;AAAH;;;;;;;;;;;;AC1BpC,2BAA2B,oBAAoB,GAAG,eAAe,oBAAoB,GAAG,gBAAgB,oBAAoB,sBAAsB,GAAG,cAAc,oBAAoB,GAAG,qBAAqB,mBAAmB,GAAG,sCAAsC,oBAAoB,uBAAuB,iBAAiB,GAAG,cAAc,iCAAiC,GAAG,YAAY,uBAAuB,oBAAoB,8BAA8B,uBAAuB,qBAAqB,wBAAwB,uBAAuB,sBAAsB,gCAAgC,GAAG,aAAa,uBAAuB,qBAAqB,qBAAqB,GAAG,6CAA6C,mqF;;;;;;;;;;;;;;;;;;;;;;;ACAjrB;AACD;AACH;AAEG;AACT;AACS;AACgB;AACc;AACd;AACd;AASnD,IAAa,iBAAiB,GAA9B,MAAa,iBAAiB;IAE5B,YACU,KAAqB,EACtB,WAAwB,EACxB,eAAgC,EAChC,MAAc,EACd,eAAgC,EAChC,iBAAoC;QALnC,UAAK,GAAL,KAAK,CAAgB;QACtB,gBAAW,GAAX,WAAW,CAAa;QACxB,oBAAe,GAAf,eAAe,CAAiB;QAChC,WAAM,GAAN,MAAM,CAAQ;QACd,oBAAe,GAAf,eAAe,CAAiB;QAChC,sBAAiB,GAAjB,iBAAiB,CAAmB;QAiC7C,gBAAW,GAAG,EAAE,CAAC;QA/Bf,IAAI,IAAI,GAAC,IAAI,CAAC;QACd,MAAM,CAAC,SAAS,CAAC,aAAa,EAAE,CAAO,IAAI,EAAE,EAAE,CAAC;YAC9C,IAAI,CAAC,WAAW,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,EAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;YACzF,8EAA8E;YAC9E,OAAO,CAAC,GAAG,CAAC,uBAAuB,EAAE,IAAI,CAAC,CAAC;YAC3C,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAChC,CAAC,EAAC,CAAC;IACL,CAAC;IAED,6BAA6B;IACvB,cAAc;;YAClB,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;gBAClD,OAAO,EAAE,oBAAoB;gBAC7B,aAAa,EAAG,IAAI;gBACpB,OAAO,EAAG,UAAU;aACrB,CAAC,CAAC;YACH,MAAM,OAAO,CAAC,OAAO,EAAE,CAAC;QAC1B,CAAC;KAAA;IAED,6DAA6D;IAC7D,cAAc;QACZ,+CAA+C;QAC/C,qDAAqD;QACrD,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC;YAC7B,WAAW,EAAE,IAAI;SAClB,CAAC,CAAC;IACL,CAAC;IAOD,mCAAmC;IACnC,QAAQ;QACN,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CACzB,CAAM,KAAK,EAAC,EAAE,CAAC;YACb,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;YAC1B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YAC/B,IAAI,CAAC,WAAW,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;YAC1F,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAChC,CAAC,EACF,CAAC;IACJ,CAAC;IAED,6CAA6C;IACrC,OAAO,CAAC,CAAC;QACf,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;QACjC,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAC,CAAC,CAAC,GAAE,GAAG,GAAG,IAAI,CAAC,OAAO,EAAE,GAAG,GAAG,GAAE,IAAI,CAAC,WAAW,EAAE,GAAE,GAAG,GAAC,IAAI,CAAC,QAAQ,EAAE,GAAC,GAAG,GAAC,CAAC,GAAG,GAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAC,GAAG,GAAC,CAAC,GAAG,GAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9K,CAAC;IAED,0BAA0B;IACpB,SAAS,CAAC,MAAM,EAAE,KAAK;;YAC3B,IAAI,MAAM,GAAG,EAAE,CAAC;YAChB,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,8BAA8B;YAC9B,OAAO,CAAC,GAAG,CAAC,qBAAqB,GAAC,MAAM,GAAC,GAAG,CAAC,CAAC;YAC9C,MAAM,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,MAAM,EAAC,KAAK,CAAC,CAAC;YACzD,8BAA8B;YAC9B,OAAO,MAAM,CAAC;QAChB,CAAC;KAAA;IAED,WAAW,CAAC,MAAM;QAChB,OAAO,CAAC,GAAG,CAAC,yBAAyB,GAAC,MAAM,GAAC,GAAG,CAAC,CAAC;QAClD,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;IACjC,CAAC;IAED,QAAQ,CAAC,MAAM;QACb,OAAO,CAAC,GAAG,CAAC,eAAe,GAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAC5C,IAAI,IAAI,GAAG,IAAI,CAAC;QAEhB,IAAI,CAAC,CAAC;QACN,IAAI,IAAI,CAAC,YAAY,CAAC,KAAK,IAAI,MAAM,CAAC,OAAO,EAAE;YAC7C,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC;SACvB;aACI;YACH,KAAK,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,IAAI,CAAC,WAAW,CAAC,MAAM,EAAC,CAAC,EAAE,EAAE;gBAC3C,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,KAAK,CAAE,CAAC;gBACxC,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,MAAM,CAAC,OAAO,EAAE;oBAC/C,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;oBACxB,MAAM;iBACP;aACF;SACF;QAED,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACf,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;IAChC,CAAC;IAED,8DAA8D;IACxD,qBAAqB,CAAC,IAAI;;YAC9B,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,SAAS,EAAE,0FAAkB;gBAC7B,cAAc,EAAE;oBACd,MAAM,EAAG,IAAI;iBACd;gBACD,eAAe,EAAG,IAAI;aACvB,CAAC,CAAC;YAEH,oBAAoB;YACpB,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;YAEtB,+CAA+C;YAC/C,MAAM,KAAK,CAAC,aAAa,EAAE,CAAC;QAC9B,CAAC;KAAA;IAED,8DAA8D;IACxD,iBAAiB,CAAC,IAAI;;YAC1B,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,SAAS,EAAE,4EAAc;gBACzB,cAAc,EAAE;oBACd,MAAM,EAAG,IAAI;oBACb,cAAc,EAAG,IAAI,CAAC,YAAY,CAAC,KAAK;oBACxC,OAAO,EAAG,IAAI,CAAC,YAAY,CAAC,KAAK;iBAClC;aACF,CAAC,CAAC;YAEH,oBAAoB;YACpB,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;YAEtB,+CAA+C;YAC/C,MAAM,KAAK,CAAC,aAAa,EAAE,CAAC;QAC9B,CAAC;KAAA;IAED,8DAA8D;IACxD,SAAS,CAAC,GAAG;;YACjB,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;YAEhC,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,SAAS,EAAE,4EAAc;gBACzB,cAAc,EAAE;oBACd,KAAK,EAAE,GAAG;iBACX;gBACD,eAAe,EAAG,IAAI;aACvB,CAAC,CAAC;YAEH,oBAAoB;YACpB,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,WAAW,CAAC;YAC9D,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,WAAW,CAAC;YAC7D,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;YAGtB,+CAA+C;YAC/C,MAAM,KAAK,CAAC,aAAa,EAAE,CAAC;YAC5B,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,WAAW,CAAC;YAC9D,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,WAAW,CAAC;QAC/D,CAAC;KAAA;CAEF;;YA3JkB,8DAAc;YACT,yDAAW;YACP,8DAAe;YACxB,qDAAM;YACG,8DAAe;YACb,gEAAiB;;AARlC,iBAAiB;IAP7B,+DAAS,CAAC;QACT,QAAQ,EAAE,oBAAoB;QAC9B,kKAAyC;;KAE1C,CAAC;2EAMiB,8DAAc;QACT,yDAAW;QACP,8DAAe;QACxB,qDAAM;QACG,8DAAe;QACb,gEAAiB;GARlC,iBAAiB,CA8J7B;AA9J6B","file":"product-detail-product-detail-module-es2015.js","sourcesContent":["module.exports = \"<ion-header id=\\\"header\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title *ngIf=\\\"current_post\\\">{{current_post.title}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content id=\\\"content\\\" padding>\\n\\n  <ion-item *ngIf=\\\"current_post\\\" class=\\\"reply\\\" lines=\\\"none\\\">\\n    <ion-text>\\n      <h5 (click)=\\\"createReply(current_post)\\\" class=\\\"postId\\\">No. {{current_post.docId}}</h5>\\n      <ion-img *ngIf=\\\"current_post.img\\\" (click)=\\\"expandImg(current_post.img)\\\" [src]=\\\"current_post.img\\\"></ion-img>\\n      <p class=\\\"postTitle\\\">{{current_post.title}}</p>\\n      <p class=\\\"postText\\\">{{current_post.text}}</p>\\n      <p class=\\\"postText\\\">{{getDate(current_post.timestamp)}}</p>\\n    </ion-text>\\n  </ion-item>\\n\\n  <!--This will populate all the replys to the post-->\\n\\n   <ion-item *ngFor=\\\"let reply of post_replys\\\" class=\\\"reply\\\" lines=\\\"none\\\">\\n     <ion-text>\\n       <h5 (click)=\\\"createReply(reply)\\\" class=\\\"postId\\\">No. {{reply.docId}}</h5>\\n       <ion-img *ngIf=\\\"reply.img\\\" (click)=\\\"expandImg(reply.img)\\\" [src]=\\\"reply.img\\\"></ion-img>\\n       <p class=\\\"postText\\\">{{reply.text}}</p>\\n       <p (click)=\\\"showPost(reply)\\\" class=\\\"replyTo\\\">Replying to : {{reply.replyTo}}</p>\\n       <p class=\\\"replyTo\\\">{{getDate(reply.timestamp)}}</p>\\n     </ion-text>\\n   </ion-item>\\n\\n</ion-content>\\n\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProductDetailPage } from './product-detail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProductDetailPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProductDetailPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProductDetailPageRoutingModule } from './product-detail-routing.module';\n\nimport { ProductDetailPage } from './product-detail.page';\n\nimport { ReplyModalPageModule } from '../reply-modal/reply-modal.module';\nimport { ShowReplyModalPageModule } from '../show-reply-modal/show-reply-modal.module';\nimport { ImageModalPageModule } from '../image-modal/image-modal.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ProductDetailPageRoutingModule,\n    ReplyModalPageModule,\n    ImageModalPageModule,\n    ShowReplyModalPageModule\n  ],\n  declarations: [ProductDetailPage]\n})\nexport class ProductDetailPageModule {}\n","module.exports = \".postId {\\n  font-size: 16px;\\n}\\n\\n.postText {\\n  font-size: 16px;\\n}\\n\\n.postTitle {\\n  font-size: 16px;\\n  font-weight: bold;\\n}\\n\\n.replyTo {\\n  font-size: 12px;\\n}\\n\\n.replyTo:active {\\n  color: #8f8f8f;\\n}\\n\\nion-text h5, .postText, .replyTo {\\n  margin-top: 0px;\\n  margin-bottom: 0px;\\n  padding: 0px;\\n}\\n\\nion-list {\\n  background: rgba(0, 0, 0, 0);\\n}\\n\\n.reply {\\n  margin-bottom: 8px;\\n  margin-top: 8px;\\n  border: 1px solid #818180;\\n  border-radius: 7px;\\n  padding-top: 5px;\\n  padding-bottom: 5px;\\n  padding-right: 5px;\\n  padding-left: 5px;\\n  box-shadow: 5px 5px #e2e2e2;\\n}\\n\\nion-img {\\n  border-radius: 7px;\\n  overflow: hidden;\\n  margin-top: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2pidWt1dHMvRG9jdW1lbnRzL0dpdGh1Yi9Bbm9uU29jaWFsTWVkaWEvc3JjL2FwcC9wcm9kdWN0LWRldGFpbC9wcm9kdWN0LWRldGFpbC5wYWdlLnNjc3MiLCJzcmMvYXBwL3Byb2R1Y3QtZGV0YWlsL3Byb2R1Y3QtZGV0YWlsLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGVBQUE7QUNDSjs7QURFQTtFQUNJLGVBQUE7QUNDSjs7QURFQTtFQUNJLGVBQUE7RUFDQSxpQkFBQTtBQ0NKOztBREVBO0VBQ0ksZUFBQTtBQ0NKOztBREVBO0VBQ0ksY0FBQTtBQ0NKOztBREVBO0VBQ0ksZUFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtBQ0NKOztBREVBO0VBQ0ksNEJBQUE7QUNDSjs7QURFQTtFQUNJLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLHlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLDJCQUFBO0FDQ0o7O0FERUE7RUFDSSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3Byb2R1Y3QtZGV0YWlsL3Byb2R1Y3QtZGV0YWlsLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5wb3N0SWQge1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbn1cblxuLnBvc3RUZXh0IHtcbiAgICBmb250LXNpemU6IDE2cHg7XG59XG5cbi5wb3N0VGl0bGUge1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuLnJlcGx5VG8ge1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbn1cblxuLnJlcGx5VG86YWN0aXZlIHtcbiAgICBjb2xvcjogcmdiKDE0MywgMTQzLCAxNDMpO1xufVxuXG5pb24tdGV4dCBoNSwgLnBvc3RUZXh0LCAucmVwbHlUbyB7XG4gICAgbWFyZ2luLXRvcDogMHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDBweDtcbiAgICBwYWRkaW5nOiAwcHg7XG59XG5cbmlvbi1saXN0IHtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLDApO1xufVxuXG4ucmVwbHl7XG4gICAgbWFyZ2luLWJvdHRvbTogOHB4O1xuICAgIG1hcmdpbi10b3A6IDhweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2IoMTI5LCAxMjksIDEyOCk7XG4gICAgYm9yZGVyLXJhZGl1czogN3B4O1xuICAgIHBhZGRpbmctdG9wOiA1cHg7XG4gICAgcGFkZGluZy1ib3R0b206IDVweDtcbiAgICBwYWRkaW5nLXJpZ2h0OiA1cHg7XG4gICAgcGFkZGluZy1sZWZ0OiA1cHg7XG4gICAgYm94LXNoYWRvdzogNXB4IDVweCByZ2IoMjI2LCAyMjYsIDIyNik7XG59XG5cbmlvbi1pbWcge1xuICAgIGJvcmRlci1yYWRpdXM6IDdweDtcbiAgICBvdmVyZmxvdzpoaWRkZW47XG4gICAgbWFyZ2luLXRvcDogMTBweDtcbn0iLCIucG9zdElkIHtcbiAgZm9udC1zaXplOiAxNnB4O1xufVxuXG4ucG9zdFRleHQge1xuICBmb250LXNpemU6IDE2cHg7XG59XG5cbi5wb3N0VGl0bGUge1xuICBmb250LXNpemU6IDE2cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4ucmVwbHlUbyB7XG4gIGZvbnQtc2l6ZTogMTJweDtcbn1cblxuLnJlcGx5VG86YWN0aXZlIHtcbiAgY29sb3I6ICM4ZjhmOGY7XG59XG5cbmlvbi10ZXh0IGg1LCAucG9zdFRleHQsIC5yZXBseVRvIHtcbiAgbWFyZ2luLXRvcDogMHB4O1xuICBtYXJnaW4tYm90dG9tOiAwcHg7XG4gIHBhZGRpbmc6IDBweDtcbn1cblxuaW9uLWxpc3Qge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDApO1xufVxuXG4ucmVwbHkge1xuICBtYXJnaW4tYm90dG9tOiA4cHg7XG4gIG1hcmdpbi10b3A6IDhweDtcbiAgYm9yZGVyOiAxcHggc29saWQgIzgxODE4MDtcbiAgYm9yZGVyLXJhZGl1czogN3B4O1xuICBwYWRkaW5nLXRvcDogNXB4O1xuICBwYWRkaW5nLWJvdHRvbTogNXB4O1xuICBwYWRkaW5nLXJpZ2h0OiA1cHg7XG4gIHBhZGRpbmctbGVmdDogNXB4O1xuICBib3gtc2hhZG93OiA1cHggNXB4ICNlMmUyZTI7XG59XG5cbmlvbi1pbWcge1xuICBib3JkZXItcmFkaXVzOiA3cHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIG1hcmdpbi10b3A6IDEwcHg7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ItemService } from '../item.service';\nimport * as firebase from 'firebase';\nimport { AlertController } from '@ionic/angular';\nimport { Events } from '@ionic/angular';\nimport { ModalController } from '@ionic/angular';\nimport { ReplyModalPage } from '../reply-modal/reply-modal.page';\nimport { ShowReplyModalPage } from '../show-reply-modal/show-reply-modal.page';\nimport { ImageModalPage } from '../image-modal/image-modal.page';\nimport { LoadingController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-product-detail',\n  templateUrl: './product-detail.page.html',\n  styleUrls: ['./product-detail.page.scss'],\n})\n\n\nexport class ProductDetailPage implements OnInit {\n\n  constructor(\n    private route: ActivatedRoute,\n    public itemService: ItemService,\n    public alertController: AlertController,\n    public events: Events,\n    public modalController: ModalController,\n    public loadingController: LoadingController\n  ) {\n    var self=this;\n    events.subscribe('replychange', async (time) => {\n      self.post_replys = await self.getReplys(self.current_post.docId,self.current_post.board);\n      // user and time are the same arguments passed in `events.publish(user, time)`\n      console.log('data reloading  time:', time);\n      console.log(self.post_replys);\n    });\n  }\n\n  // this will show loading bar\n  async presentLoading() {\n    const loading = await this.loadingController.create({\n      message: 'Loading Replies...',\n      keyboardClose : true,\n      spinner : \"circular\"\n    });\n    await loading.present();\n  }\n\n  // will the dismiss the loading bar upon replies being loaded\n  dismissLoading() {\n    // using the injected ModalController this page\n    // can \"dismiss\" itself and optionally pass back data\n    this.loadingController.dismiss({\n      'dismissed': true\n    });\n  }\n\n  // this represent the item to be displayed\n  // in json form\n  current_post;\n  post_replys = [];\n\n  // on init will get the item passed\n  ngOnInit() {\n    this.route.params.subscribe(\n      async param => {\n        this.current_post = param;\n        console.log(this.current_post);\n        this.post_replys = await this.getReplys(this.current_post.docId, this.current_post.board);\n        console.log(this.post_replys);\n      }\n    );\n  }\n\n  // return string of date from timestamp input\n  private getDate(d) {\n    var date = new Date(parseInt(d));\n    return (date.getMonth()+1)+ \"/\" + date.getDate() + \"/\" +date.getFullYear() +\" \"+date.getHours()+\":\"+(\"0\"+date.getMinutes()).slice(-2)+\":\"+(\"0\"+date.getSeconds()).slice(-2);\n  }\n\n  // this will get the post \n  async getReplys(postId, board) {\n    let replys = [];\n    let self = this;\n    //await self.presentLoading();\n    console.log(\"GETTING REPLYS FOR \"+postId+\"!\");\n    replys = await this.itemService.getReplies(postId,board);\n    //await self.dismissLoading();\n    return replys;\n  }\n\n  createReply(postId) {\n    console.log(\"CREATING REPLY TO POST \"+postId+\"!\");\n    this.presentReplyModal(postId);\n  }\n\n  showPost(postId) {\n    console.log(\"showing post \"+postId.replyTo);\n    var self = this;\n\n    let p;\n    if (this.current_post.docId == postId.replyTo) {\n      p = this.current_post;\n    }\n    else {   \n      for (var i=0; i<self.post_replys.length;i++) {\n        console.log(self.post_replys[i].docId );\n        if (self.post_replys[i].docId == postId.replyTo) {\n          p = self.post_replys[i];\n          break;\n        }\n      }\n    }\n\n    console.log(p);\n    this.presentShowReplyModal(p);\n  }\n\n  // shows the modal for the user to input text and create reply\n  async presentShowReplyModal(post) {\n    const modal = await this.modalController.create({\n      component: ShowReplyModalPage,\n      componentProps: {\n        'post' : post\n      },\n      backdropDismiss : true\n    });\n    \n    // present the modal\n    await modal.present();\n\n    // wait for the modal to dismiss to reload data\n    await modal.onWillDismiss();\n  }\n\n  // shows the modal for the user to input text and create reply\n  async presentReplyModal(post) {\n    const modal = await this.modalController.create({\n      component: ReplyModalPage,\n      componentProps: {\n        'post' : post,\n        'originalPost' : this.current_post.docId,\n        'board' : this.current_post.board\n      }\n    });\n    \n    // present the modal\n    await modal.present();\n\n    // wait for the modal to dismiss to reload data\n    await modal.onWillDismiss();\n  }\n\n  // shows the modal for the user to input text and create reply\n  async expandImg(img) {\n    console.log(\"Expanding Image!\");\n\n    const modal = await this.modalController.create({\n      component: ImageModalPage,\n      componentProps: {\n        'img': img\n      },\n      backdropDismiss : true\n    });\n    \n    // present the modal\n    document.getElementById(\"content\").style.filter = \"blur(5px)\";\n    document.getElementById(\"header\").style.filter = \"blur(5px)\";\n    await modal.present();\n\n    \n    // wait for the modal to dismiss to reload data\n    await modal.onWillDismiss();\n    document.getElementById(\"content\").style.filter = \"blur(0px)\";\n    document.getElementById(\"header\").style.filter = \"blur(0px)\";\n  }\n\n}\n\n"],"sourceRoot":""}